(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{168:function(e,t,a){e.exports=a(461)},173:function(e,t,a){},178:function(e,t,a){},182:function(e,t,a){},186:function(e,t,a){},188:function(e,t,a){},190:function(e,t,a){},192:function(e,t,a){},194:function(e,t,a){},196:function(e,t,a){},199:function(e,t,a){},235:function(e,t){},243:function(e,t){},261:function(e,t){},262:function(e,t){},457:function(e,t,a){},459:function(e,t,a){},461:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(54),i=a.n(c),l=(a(173),a(13)),o=(a(178),a(86)),s=Object(o.b)({name:"user",initialState:{user:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null}}}),u=s.actions,f=u.login,d=u.logout,m=function(e){return e.user.user},p=s.reducer,h=a(87),v=h.a.initializeApp({apiKey:"AIzaSyCpdITSvCR_FHrMCF1uptwMHRmPHDwJ_eA",authDomain:"worldrive-1ecf4.firebaseapp.com",projectId:"worldrive-1ecf4",storageBucket:"worldrive-1ecf4.appspot.com",messagingSenderId:"287345669165",appId:"1:287345669165:web:0a2714fb567cfa92c874a4",measurementId:"G-XL5Z3GER15"}).firestore(),E=h.a.auth(),b=new h.a.auth.GoogleAuthProvider,y=a(475),g=a(84),j=a.n(g);a(182);var w=function(){var e=Object(l.b)();return r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"login__container"},r.a.createElement("img",{src:j.a,width:"200px",alt:""}),r.a.createElement("h4",null,"EARTHDRIVE"),r.a.createElement(y.a,{color:"primary",variant:"contained",onClick:function(){E.signInWithPopup(b).then(function(t){var a=t.user;e(f({displayName:a.displayName,email:a.email,photoUrl:a.photoURL})),console.log(a)}).catch(function(e){return alert(e.message)})}},"Sign with Google")))},O=a(44),N=a(19),_=a(3),x=a.n(_),k=a(29),S=a(15);a(186);var C=function(e){var t=e.id,a=e.filehash,n=e.filename,c=e.date,i=e.desc,l=e.ftype;return"audio"!==l?r.a.createElement("div",{key:t,className:"card"},r.a.createElement("div",{className:"card__mainContent"},"image"===l?r.a.createElement("img",{key:t,src:"https://ipfs.infura.io/ipfs/"+a,alt:""}):"video"===l?r.a.createElement("video",{preload:"true",controls:!0,key:t},r.a.createElement("source",{src:"http://ipfs.infura.io/ipfs/"+a})):"document"===l?r.a.createElement("embed",{key:t,src:"http://ipfs.infura.io/ipfs/"+a,width:"100px",height:"200px"}):null),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},r.a.createElement("h4",null,n.substr(0,20)),r.a.createElement("span",{className:"meta"},c)),r.a.createElement("div",{className:"description"},r.a.createElement("p",null,i.substr(0,29)+"...")," ",r.a.createElement("a",{href:"https://ipfs.infura.io/ipfs/".concat(a)},"View")))):null};a(188);var I=function(){var e,t=Object(n.useState)([]),a=Object(S.a)(t,2),c=a[0],i=a[1],o=Object(l.c)(m),s=function(){var t=Object(k.a)(x.a.mark(function t(){return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.collection("data").where("user","==",o.email).where("ftype","==","image").onSnapshot(function(e){return i(e.docs.map(function(e){return{filehash:e.data().file,id:e.id,user:e.data().user,filename:e.data().filename,date:e.data().date,desc:e.data().description,ftype:e.data().ftype}}))});case 2:e=t.sent;case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)(function(){return s(),function(){e()}},[]),r.a.createElement("div",{className:"photos"},c.map(function(e){return r.a.createElement(C,{filehash:e.filehash,filename:e.filename,date:e.date,desc:e.desc,id:e.id,key:e.id,ftype:e.ftype})}))};a(190);var U=function(){var e,t=Object(n.useState)([]),a=Object(S.a)(t,2),c=a[0],i=a[1],o=Object(l.c)(m),s=function(){var t=Object(k.a)(x.a.mark(function t(){return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=v.collection("data").where("user","==",o.email).where("ftype","==","document").onSnapshot(function(e){return i(e.docs.map(function(e){return{filehash:e.data().file,id:e.id,user:e.data().user,filename:e.data().filename,date:e.data().date,desc:e.data().description,ftype:e.data().ftype}}))});case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)(function(){return s(),function(){e()}},[]),r.a.createElement("div",{className:"docs"},c.map(function(e){return r.a.createElement(C,{filehash:e.filehash,filename:e.filename,date:e.date,desc:e.desc,id:e.id,key:e.id,ftype:e.ftype})}))};a(192);var A=function(){var e,t=Object(n.useState)([]),a=Object(S.a)(t,2),c=a[0],i=a[1],o=Object(l.c)(m),s=function(){var t=Object(k.a)(x.a.mark(function t(){return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.collection("data").where("user","==",o.email).where("ftype","==","audio").onSnapshot(function(e){return i(e.docs.map(function(e){return{filehash:e.data().file,id:e.id,user:e.data().user,filename:e.data().filename,date:e.data().date,desc:e.data().description,ftype:e.data().ftype}}))});case 2:e=t.sent;case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)(function(){return s(),function(){e()}},[]),r.a.createElement("div",{className:"audios"},c.map(function(e){return r.a.createElement("div",{className:"audiofile"},r.a.createElement("audio",{controls:!0,preload:!0},r.a.createElement("source",{src:"https://ipfs.infura.io/ipfs/".concat(e.filehash),type:""})),r.a.createElement("div",{className:"audio__info"},r.a.createElement("div",{className:"audio__meta"},r.a.createElement("h4",null,e.filename.substr(0,20)),r.a.createElement("span",null,e.date)),r.a.createElement("div",{className:"audio__footer"},r.a.createElement("p",null,e.desc.substr(0,29)+"...")," ",r.a.createElement("a",{href:"https://ipfs.infura.io/ipfs/".concat(e.filehash)},"View"))))}))};a(194);var R=function(){var e,t=Object(n.useState)([]),a=Object(S.a)(t,2),c=a[0],i=a[1],o=Object(l.c)(m),s=function(){var t=Object(k.a)(x.a.mark(function t(){return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.collection("data").where("user","==",o.email).where("ftype","==","video").onSnapshot(function(e){return i(e.docs.map(function(e){return{filehash:e.data().file,id:e.id,user:e.data().user,filename:e.data().filename,date:e.data().date,desc:e.data().description,ftype:e.data().ftype}}))});case 2:e=t.sent;case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)(function(){return s(),function(){e()}},[]),r.a.createElement("div",{className:"videos"},c.map(function(e){return r.a.createElement(C,{filehash:e.filehash,filename:e.filename,date:e.date,desc:e.desc,id:e.id,key:e.id,ftype:e.ftype})}))},D=(a(196),a(478));var P=function(){var e=Object(l.c)(m),t=Object(l.b)();return r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"navbar__left"},r.a.createElement(O.b,{className:"navbar__navlink",activeClassName:"navbar__active",to:"/photos"},r.a.createElement("img",{src:j.a,width:"70px",alt:""}))),r.a.createElement("div",{className:"navbar__center"},r.a.createElement(O.b,{className:"navbar__navlink",activeClassName:"navbar__active",to:"/photos"},"Photos"),r.a.createElement(O.b,{className:"navbar__navlink",activeClassName:"navbar__active",to:"/docs"},"Docs"),r.a.createElement(O.b,{className:"navbar__navlink",activeClassName:"navbar__active",to:"/audios"},"Audios"),r.a.createElement(O.b,{className:"navbar__navlink",activeClassName:"navbar__active",to:"/videos"},"Videos"),r.a.createElement(O.b,{className:"navbar__navlink",activeClassName:"navbar__active",to:"/upload"},"Upload")),r.a.createElement("div",{className:"navbar__right"},r.a.createElement(y.a,{onClick:function(){return E.signOut().then(function(){return t(d())})}},"Logout"),r.a.createElement(O.b,{to:"/profile"},r.a.createElement(D.a,{src:e.photoUrl,sizes:"17px"}))))},L=(a(199),a(477)),q=a(164),B=a.n(q),F=a(1),G=a(201)({host:"ipfs.infura.io",port:5001,protocol:"https"});var H=function(){var e=Object(n.useState)(""),t=Object(S.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),i=Object(S.a)(c,2),o=i[0],s=i[1],u=Object(n.useState)([]),f=Object(S.a)(u,2),d=f[0],p=f[1],h=Object(n.useState)(""),E=Object(S.a)(h,2),b=E[0],y=E[1],g=Object(n.useState)(""),j=Object(S.a)(g,2),w=j[0],O=j[1],_=Object(n.useState)(""),C=Object(S.a)(_,2),I=C[0],U=C[1],A=null,R=Object(n.useState)(null),D=Object(S.a)(R,2),P=D[0],q=D[1],H=Object(l.c)(m),V=Object(N.f)(),W=function(){var e=Object(k.a)(x.a.mark(function e(t){var a,n,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(S.a)(t,1),n=a[0],e.prev=1,e.next=4,G.add(n);case 4:r=e.sent,q(r.cid.toString()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:s("");case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(k.a)(x.a.mark(function e(){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.collection("data").where("user","==",H.email).where("file","==",P).onSnapshot(function(e){return e.docs.map(function(e){return p({id:e.id,file:e.data()})})});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(k.a)(x.a.mark(function e(){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==d.length){e.next=3;break}return e.next=3,v.collection("data").add({file:P,user:H.email,filename:b,description:w,date:I,ftype:A});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();if(G)return F.createElement("div",{className:"upload"},F.createElement("div",{className:"upload__form"},F.createElement("form",{id:"capture-media",onSubmit:function(e){e.preventDefault(),console.log(a),"jpg"===a||"png"===a||"jpeg"===a||"gif"===a?A="image":"mp4"===a||"mov"===a||"wmv"===a?A="video":"doc"===a||"pdf"===a||"docx"===a?A="document":"mp3"!==a&&"wav"!==a||(A="audio"),P&&b&&w&&I&&(z(),console.log(d),J(),V.push("/"))},className:"ui form"},F.createElement("div",{className:"upload__formLeft",style:{backgroundImage:P?"url(https://ipfs.infura.io/ipfs/".concat(P,"+)"):"none"}},F.createElement("input",{className:"input",type:"file",name:"input-file",id:"input-file",onChange:function(e){s("Wait till we process the file"),e.stopPropagation(),e.preventDefault(),W(e.target.files),r(e.target.files[0].name.split(".").pop())},required:!0}),F.createElement(L.a,{id:"icon-button",onClick:function(e){return document.getElementById("input-file").click()}},F.createElement(B.a,null)),F.createElement("h4",null,P?"File Processed Successfully":o)),F.createElement("div",{className:"upload__formRight"},F.createElement("input",{className:"input",value:b,placeholder:"Name of your file",onChange:function(e){return y(e.target.value)},type:"text",name:"name",id:"file-name",required:!0}),F.createElement("input",{className:"input",value:w,placeholder:"A description of your file",onChange:function(e){return O(e.target.value)},type:"text",name:"desc",id:"description",required:!0}),F.createElement("input",{className:"ui input",type:"date",onChange:function(e){return U(e.target.value)},required:!0}),F.createElement("button",{className:"ui button",type:"submit"},"Upload")))))};a(457);var V=function(){var e,t=Object(n.useState)([]),a=Object(S.a)(t,2),c=a[0],i=a[1],o=Object(l.c)(m),s=function(){var t=Object(k.a)(x.a.mark(function t(){return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.collection("data").where("user","==",o.email).onSnapshot(function(e){return i(e.docs.map(function(e){return{filehash:e.data().file,id:e.id,user:e.data().user,filename:e.data().filename,date:e.data().date,desc:e.data().description,ftype:e.data().ftype}}))});case 2:e=t.sent;case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)(function(){return s(),function(){e()}},[]),r.a.createElement("div",{className:"homepage"},r.a.createElement("div",{className:"cards"},c.map(function(e){return r.a.createElement(C,{filehash:e.filehash,filename:e.filename,date:e.date,desc:e.desc,id:e.id,key:e.id,ftype:e.ftype})})))};a(459);var W=function(){var e,t=Object(n.useState)([]),a=Object(S.a)(t,2),c=a[0],i=a[1],o=Object(l.c)(m),s=function(){var t=Object(k.a)(x.a.mark(function t(){return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.collection("data").where("user","==",o.email).onSnapshot(function(e){return i(e.docs.map(function(e){return{id:e.id}}))});case 2:e=t.sent;case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)(function(){return s(),function(){e()}},[]),r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"profile__user"},r.a.createElement(D.a,{style:{width:"100px",height:"100px",border:"4px solid white",background:"white"},src:o.photoUrl}),r.a.createElement("div",{className:"profile__details"},r.a.createElement("div",{className:"profile__detailsItem"},r.a.createElement("div",null,"Name:")," ",r.a.createElement("span",null,o.displayName)),r.a.createElement("div",{className:"profile__detailsItem"},r.a.createElement("div",null,"Email:"),"   ",r.a.createElement("span",null,o.email)),r.a.createElement("div",{className:"profile__detailsItem"},r.a.createElement("div",null,"Usage:"),"   ",r.a.createElement("span",null,c.length," files")))),r.a.createElement(y.a,{onClick:function(){return E.signOut()}},"Signout"))};var z=function(){var e=Object(l.b)();Object(n.useEffect)(function(){E.onAuthStateChanged(function(t){t&&e(f({displayName:t.displayName,email:t.email,photoUrl:t.photoURL}))})},[]);var t=Object(l.c)(m);return r.a.createElement("div",{className:"app"},r.a.createElement(O.a,null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement(P,null),r.a.createElement(N.c,null,r.a.createElement(N.a,{exact:!0,path:"/photos"},r.a.createElement(I,null)),r.a.createElement(N.a,{exact:!0,path:"/docs"},r.a.createElement(U,null)),r.a.createElement(N.a,{exact:!0,path:"/audios"},r.a.createElement(A,null)),r.a.createElement(N.a,{exact:!0,path:"/videos"},r.a.createElement(R,null)),r.a.createElement(N.a,{exact:!0,path:"/upload"},r.a.createElement(H,null)),r.a.createElement(N.a,{exact:!0,path:"/profile"},r.a.createElement(W,null)),r.a.createElement(N.a,{path:"/"},r.a.createElement(V,null)))):r.a.createElement(w,null)))},J=Object(o.a)({reducer:{user:p}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:J},r.a.createElement(z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},84:function(e,t,a){e.exports=a.p+"static/media/earth.707eead1.png"}},[[168,2,1]]]);
//# sourceMappingURL=main.bcf9059e.chunk.js.map